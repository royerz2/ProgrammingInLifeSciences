<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MDMA</title>
</head>
<body>
    <h1>MDMA</h1>
    <div id="main">
        <button onclick="getAll()">Get All Into Graph</button>
        <select id="ddDisease1">
            <option value="Q337998">Acariasis</option>
            <option value="Q422268">Actinomycosis</option>
            <option value="Q11491562">Acute Hemorrhagic Conjunctivitis</option>
            <option value="Q203133">African Trypanosomiasis</option>
            <option value="Q1430844">Allergic Bronchopulmonary Aspergillosis</option>
            <option value="Q272436">Allergic Rhinitis</option>
            <option value="Q448768">Alveolar Echinococcosis</option>
            <option value="Q949694">Amebiasis</option>
            <option value="Q11679861">Ancylostomiasis</option>
            <option value="Q3091959">Anisakiasis</option>
            <option value="Q208726">Anogenital Venereal Wart</option>
            <option value="Q129104">Anthrax</option>
            <option value="Q121041">Appendicitis</option>
            <option value="Q2583514">Argentine Hemorrhagic Fever</option>
            <option value="Q842428">Ascariasis</option>
            <option value="Q259626">Aspergillosis</option>
            <option value="Q797668">Babesiosis</option>
            <option value="Q18558195">Bacterial Conjunctivitis</option>
            <option value="Q727028">Bacterial Infectious Disease</option>
            <option value="Q3678510">Bacterial Meningitis</option>
            <option value="Q3776920">Bacterial Pneumonia</option>
            <option value="Q804521">Bacterial Vaginosis</option>
            <option value="Q2447562">Balantidiasis</option>
            <option value="Q682798">Bejel</option>
            <option value="Q627368">Blastomycosis</option>
            <option value="Q2700304">Bolivian Hemorrhagic Fever</option>
            <option value="Q4944687">Borderline Leprosy</option>
            <option value="Q154865">Botulism</option>
            <option value="Q895297">Boutonneuse Fever</option>
            <option value="Q4958833">Brazilian Hemorrhagic Fever</option>
            <option value="Q253332">Brill-Zinsser Disease</option>
            <option value="Q156050">Brucellosis</option>
            <option value="Q217519">Bubonic Plague</option>
            <option value="Q1004647">Bullous Pemphigoid</option>
            <option value="Q273510">Candidiasis</option>
            <option value="Q876887">Cellulitis</option>
            <option value="Q2822915">Cerebral Malaria</option>
            <option value="Q649558">Chagas Disease</option>
            <option value="Q31798">Chancroid</option>
            <option value="Q44727">Chickenpox</option>
            <option value="Q243257">Chikungunya</option>
            <option value="Q153356">Chlamydia Infection</option>
            <option value="Q2726043">Chromoblastomycosis</option>
            <option value="Q2165663">Chronic Granulomatous Disease</option>
            <option value="Q2787011">Chronic Recurrent Multifocal Osteomyelitis</option>
            <option value="Q1102300">Clonorchiasis</option>
            <option value="Q574905">Clostridioides Difficile Colitis</option>
            <option value="Q868137">Coccidioidomycosis</option>
            <option value="Q487837">Coccidiosis</option>
            <option value="Q12125">Common Cold</option>
            <option value="Q18554021">Common Wart</option>
            <option value="Q84263196">Covid-19</option>
            <option value="Q1077505">Crimean-Congo Hemorrhagic Fever</option>
            <option value="Q18967011">Cryptococcal Meningitis</option>
            <option value="Q1470140">Cryptococcosis</option>
            <option value="Q1359898">Cryptosporidiosis</option>
            <option value="Q11581119">Cutaneous Candidiasis</option>
            <option value="Q2590966">Cutaneous Leishmaniasis</option>
            <option value="Q3008595">Cyclosporiasis</option>
            <option value="Q246068">Cysticercosis</option>
            <option value="Q428447">Cystoisosporiasis</option>
            <option value="Q4271835">Cytomegalovirus Retinitis</option>
            <option value="Q1151507">Dermatitis Herpetiformis</option>
            <option value="Q3705876">Dermatomycosis</option>
            <option value="Q1909343">Dermatophytosis</option>
            <option value="Q1210303">Dicrocoeliasis</option>
            <option value="Q134649">Diphtheria</option>
            <option value="Q1227160">Diphyllobothriasis</option>
            <option value="Q443929">Dirofilariasis</option>
            <option value="Q388646">Dracunculiasis</option>
            <option value="Q129279">Dysentery</option>
            <option value="Q18553951">Eastern Equine Encephalitis</option>
            <option value="Q777087">Echinococcosis</option>
            <option value="Q2845432">Ehrlichiosis</option>
            <option value="Q3084532">Endemic Typhus</option>
            <option value="Q1992236">Enterobiasis</option>
            <option value="Q1290616">Epidemic Typhus</option>
            <option value="Q1344812">Epididymitis</option>
            <option value="Q207092">Erysipelas</option>
            <option value="Q1607983">Erysipelothrix Rhusiopathiae Infectious Disease</option>
            <option value="Q939261">Erythrasma</option>
            <option value="Q5398631">Esophageal Candidiasis</option>
            <option value="Q11996271">Fascioloidiasis</option>
            <option value="Q2140729">Fasciolopsiasis</option>
            <option value="Q6972442">Fasciolosis</option>
            <option value="Q192100">Filarial Elephantiasis</option>
            <option value="Q464067">Fungal Infectious Disease</option>
            <option value="Q5509169">Fungal Meningitis</option>
            <option value="Q18928476">Fusariosis</option>
            <option value="Q7476596">Genital Herpes</option>
            <option value="Q326071">Giardiasis</option>
            <option value="Q327005">Glanders</option>
            <option value="Q2665559">Gnathomiasis</option>
            <option value="Q101896">Gonorrhea</option>
            <option value="Q1416773">Granuloma Inguinale</option>
            <option value="Q5596834">Granulomatous Amebic Encephalitis</option>
            <option value="Q17119372">Haemophilus Meningitis</option>
            <option value="Q3798547">Haverhill Fever</option>
            <option value="Q9002005">Hemorrhagic Fever With Renal Syndrome</option>
            <option value="Q6853">Hepatitis B</option>
            <option value="Q154869">Hepatitis C</option>
            <option value="Q326643">Hepatitis E</option>
            <option value="Q6473911">Herpes Simplex</option>
            <option value="Q1258984">Herpes Simplex Virus Keratitis</option>
            <option value="Q182155">Herpes Zoster</option>
            <option value="Q4137692">Heterophyiasis</option>
            <option value="Q627625">Histoplasmosis</option>
            <option value="Q12199">Hiv/Aids</option>
            <option value="Q18556697">Human Immunodeficiency Virus Infectious Disease</option>
            <option value="Q12656487">Hymenolepiasis</option>
            <option value="Q1641318">Hypodermyasis</option>
            <option value="Q28971">Impetigo</option>
            <option value="Q2450598">Infective Endocarditis</option>
            <option value="Q2840">Influenza</option>
            <option value="Q2970970">Intestinal Infectious Disease</option>
            <option value="Q18553329">Intestinal Schistosomiasis</option>
            <option value="Q738292">Japanese Encephalitis</option>
            <option value="Q725345">Kaposi'S Sarcoma</option>
            <option value="Q17651228">Kidney Infection</option>
            <option value="Q154882">Legionnaires' Disease</option>
            <option value="Q331283">Leishmaniasis</option>
            <option value="Q72000">Lemierre'S Syndrome</option>
            <option value="Q6527832">Lepromatous Leprosy</option>
            <option value="Q36956">Leprosy</option>
            <option value="Q155098">Leptospirosis</option>
            <option value="Q1343674">Lice Infestation</option>
            <option value="Q160653">Listeriosis</option>
            <option value="Q18554418">Louse-Borne Relapsing Fever</option>
            <option value="Q201989">Lyme Disease</option>
            <option value="Q12156">Malaria</option>
            <option value="Q4280605">Mansonelliasis</option>
            <option value="Q963944">Melioidosis</option>
            <option value="Q890785">Meningococcal Disease</option>
            <option value="Q11542703">Metagonimiasis</option>
            <option value="Q17583">Miliary Tuberculosis</option>
            <option value="Q659584">Molluscum Contagiosum</option>
            <option value="Q382370">Monkeypox</option>
            <option value="Q866602">Multidrug-Resistant Tuberculosis</option>
            <option value="Q6946984">Mycobacterium Avium-Intracellulare Infection</option>
            <option value="Q10591185">Mycoplasma Pneumonia</option>
            <option value="Q4118581">Necatoriasis</option>
            <option value="Q1856914">Nocardiosis</option>
            <option value="Q1137321">Onchocerciasis</option>
            <option value="Q18558194">Ophthalmia Neonatorum</option>
            <option value="Q1048084">Opisthorchiasis</option>
            <option value="Q2886899">Oral Candidiasis</option>
            <option value="Q164727">Ornithosis</option>
            <option value="Q938983">Osteomyelitis</option>
            <option value="Q680873">Otitis Externa</option>
            <option value="Q247096">Paracoccidioidomycosis</option>
            <option value="Q2528129">Paragonimiasis</option>
            <option value="Q578994">Parasitic Helminthiasis Infectious Disease</option>
            <option value="Q353172">Parasitic Protozoa Infectious Disease</option>
            <option value="Q705906">Paratyphoid Fever</option>
            <option value="Q558070">Pelvic Inflammatory Diseases</option>
            <option value="Q1483214">Pemphigus</option>
            <option value="Q223102">Peritonitis</option>
            <option value="Q18554607">Pharyngoconjunctival Fever</option>
            <option value="Q922029">Pinta Disease</option>
            <option value="Q1125160">Pityriasis Rosea</option>
            <option value="Q766856">Pityriasis Rubra Pilaris</option>
            <option value="Q926462">Pityriasis Versicolor</option>
            <option value="Q133780">Plague</option>
            <option value="Q17635591">Plasmablastic Lymphoma</option>
            <option value="Q18554672">Plasmodium Falciparum Malaria</option>
            <option value="Q18554412">Plasmodium Vivax Malaria</option>
            <option value="Q7205993">Pneumocystosis</option>
            <option value="Q12192">Pneumonia</option>
            <option value="Q922927">Primary Amebic Meningoencephalitis</option>
            <option value="Q704930">Progressive Multifocal Leukoencephalopathy</option>
            <option value="Q179945">Psoriasis</option>
            <option value="Q511097">Psoriatic Arthritis</option>
            <option value="Q13046587">Pulmonary Tuberculosis</option>
            <option value="Q506652">Pyelonephritis</option>
            <option value="Q164818">Q Fever</option>
            <option value="Q6587253">Queensland Tick Typhus</option>
            <option value="Q1327700">Reactive Arthritis</option>
            <option value="Q690032">Relapsing Fever Borreliosis</option>
            <option value="Q18554367">Respiratory Syncytial Virus Infectious Disease</option>
            <option value="Q753904">Rheumatic Fever</option>
            <option value="Q114085">Rhinitis</option>
            <option value="Q326638">Rift Valley Fever</option>
            <option value="Q744387">Rocky Mountain Spotted Fever</option>
            <option value="Q326648">Salmonellosis</option>
            <option value="Q167178">Scabies</option>
            <option value="Q180266">Scarlet Fever</option>
            <option value="Q4678337">Scrofula</option>
            <option value="Q1194496">Scrub Typhus</option>
            <option value="Q924421">Septic Arthritis</option>
            <option value="Q3100117">Septicemic Plague</option>
            <option value="Q327298">Shigellosis</option>
            <option value="Q7053975">Siberian Tick Typhus</option>
            <option value="Q12214">Smallpox</option>
            <option value="Q1807401">Sodoku</option>
            <option value="Q842169">Sparganosis</option>
            <option value="Q767327">Sporotrichosis</option>
            <option value="Q2360849">Strongyloidiasis</option>
            <option value="Q2271749">Subacute Bacterial Endocarditis</option>
            <option value="Q2475919">Subacute Sclerosing Panencephalitis</option>
            <option value="Q7630974">Subcorneal Pustular Dermatosis</option>
            <option value="Q36855">Swine Influenza</option>
            <option value="Q41083">Syphilis</option>
            <option value="Q18553214">Systemic Mycosis</option>
            <option value="Q5340515">Systemic Scleroderma</option>
            <option value="Q18558279">Tertiary Neurosyphilis</option>
            <option value="Q47790">Tetanus</option>
            <option value="Q326663">Tick-Borne Encephalitis</option>
            <option value="Q18554419">Tick-Borne Relapsing Fever</option>
            <option value="Q775927">Tinea Corporis</option>
            <option value="Q1243807">Tinea Cruris</option>
            <option value="Q5609817">Tinea Pedis</option>
            <option value="Q4459615">Toxascariasis</option>
            <option value="Q1128440">Toxic Shock Syndrome</option>
            <option value="Q1345113">Toxocariasis</option>
            <option value="Q154878">Toxoplasmosis</option>
            <option value="Q193216">Trachoma</option>
            <option value="Q393477">Trench Fever</option>
            <option value="Q495146">Trichinosis</option>
            <option value="Q745865">Trichomoniasis</option>
            <option value="Q2264130">Trichuriasis</option>
            <option value="Q2443552">Trypanosomiasis</option>
            <option value="Q12204">Tuberculosis</option>
            <option value="Q153861">Tularemia</option>
            <option value="Q83319">Typhoid Fever</option>
            <option value="Q1122485">Urethritis</option>
            <option value="Q221668">Urinary Tract Infection</option>
            <option value="Q2403156">Vasomotor Rhinitis</option>
            <option value="Q18558169">Venezuelan Equine Encephalitis</option>
            <option value="Q1928978">Viral Infectious Disease</option>
            <option value="Q2046113">Visceral Leishmaniasis</option>
            <option value="Q180152">Vitiligo</option>
            <option value="Q977090">Vulvovaginal Candidiasis</option>
            <option value="Q18553953">Western Equine Encephalitis</option>
            <option value="Q76973">Yaws</option>
        </select>
        <button onclick="runQuery()">Medication Query</button>
        <select id="ddDisease2">
            <option value="Q337998">Acariasis</option>
            <option value="Q422268">Actinomycosis</option>
            <option value="Q11491562">Acute Hemorrhagic Conjunctivitis</option>
            <option value="Q203133">African Trypanosomiasis</option>
            <option value="Q1430844">Allergic Bronchopulmonary Aspergillosis</option>
            <option value="Q272436">Allergic Rhinitis</option>
            <option value="Q448768">Alveolar Echinococcosis</option>
            <option value="Q949694">Amebiasis</option>
            <option value="Q11679861">Ancylostomiasis</option>
            <option value="Q3091959">Anisakiasis</option>
            <option value="Q208726">Anogenital Venereal Wart</option>
            <option value="Q129104">Anthrax</option>
            <option value="Q121041">Appendicitis</option>
            <option value="Q2583514">Argentine Hemorrhagic Fever</option>
            <option value="Q842428">Ascariasis</option>
            <option value="Q259626">Aspergillosis</option>
            <option value="Q797668">Babesiosis</option>
            <option value="Q18558195">Bacterial Conjunctivitis</option>
            <option value="Q727028">Bacterial Infectious Disease</option>
            <option value="Q3678510">Bacterial Meningitis</option>
            <option value="Q3776920">Bacterial Pneumonia</option>
            <option value="Q804521">Bacterial Vaginosis</option>
            <option value="Q2447562">Balantidiasis</option>
            <option value="Q682798">Bejel</option>
            <option value="Q627368">Blastomycosis</option>
            <option value="Q2700304">Bolivian Hemorrhagic Fever</option>
            <option value="Q4944687">Borderline Leprosy</option>
            <option value="Q154865">Botulism</option>
            <option value="Q895297">Boutonneuse Fever</option>
            <option value="Q4958833">Brazilian Hemorrhagic Fever</option>
            <option value="Q253332">Brill-Zinsser Disease</option>
            <option value="Q156050">Brucellosis</option>
            <option value="Q217519">Bubonic Plague</option>
            <option value="Q1004647">Bullous Pemphigoid</option>
            <option value="Q273510">Candidiasis</option>
            <option value="Q876887">Cellulitis</option>
            <option value="Q2822915">Cerebral Malaria</option>
            <option value="Q649558">Chagas Disease</option>
            <option value="Q31798">Chancroid</option>
            <option value="Q44727">Chickenpox</option>
            <option value="Q243257">Chikungunya</option>
            <option value="Q153356">Chlamydia Infection</option>
            <option value="Q2726043">Chromoblastomycosis</option>
            <option value="Q2165663">Chronic Granulomatous Disease</option>
            <option value="Q2787011">Chronic Recurrent Multifocal Osteomyelitis</option>
            <option value="Q1102300">Clonorchiasis</option>
            <option value="Q574905">Clostridioides Difficile Colitis</option>
            <option value="Q868137">Coccidioidomycosis</option>
            <option value="Q487837">Coccidiosis</option>
            <option value="Q12125">Common Cold</option>
            <option value="Q18554021">Common Wart</option>
            <option value="Q84263196">Covid-19</option>
            <option value="Q1077505">Crimean-Congo Hemorrhagic Fever</option>
            <option value="Q18967011">Cryptococcal Meningitis</option>
            <option value="Q1470140">Cryptococcosis</option>
            <option value="Q1359898">Cryptosporidiosis</option>
            <option value="Q11581119">Cutaneous Candidiasis</option>
            <option value="Q2590966">Cutaneous Leishmaniasis</option>
            <option value="Q3008595">Cyclosporiasis</option>
            <option value="Q246068">Cysticercosis</option>
            <option value="Q428447">Cystoisosporiasis</option>
            <option value="Q4271835">Cytomegalovirus Retinitis</option>
            <option value="Q1151507">Dermatitis Herpetiformis</option>
            <option value="Q3705876">Dermatomycosis</option>
            <option value="Q1909343">Dermatophytosis</option>
            <option value="Q1210303">Dicrocoeliasis</option>
            <option value="Q134649">Diphtheria</option>
            <option value="Q1227160">Diphyllobothriasis</option>
            <option value="Q443929">Dirofilariasis</option>
            <option value="Q388646">Dracunculiasis</option>
            <option value="Q129279">Dysentery</option>
            <option value="Q18553951">Eastern Equine Encephalitis</option>
            <option value="Q777087">Echinococcosis</option>
            <option value="Q2845432">Ehrlichiosis</option>
            <option value="Q3084532">Endemic Typhus</option>
            <option value="Q1992236">Enterobiasis</option>
            <option value="Q1290616">Epidemic Typhus</option>
            <option value="Q1344812">Epididymitis</option>
            <option value="Q207092">Erysipelas</option>
            <option value="Q1607983">Erysipelothrix Rhusiopathiae Infectious Disease</option>
            <option value="Q939261">Erythrasma</option>
            <option value="Q5398631">Esophageal Candidiasis</option>
            <option value="Q11996271">Fascioloidiasis</option>
            <option value="Q2140729">Fasciolopsiasis</option>
            <option value="Q6972442">Fasciolosis</option>
            <option value="Q192100">Filarial Elephantiasis</option>
            <option value="Q464067">Fungal Infectious Disease</option>
            <option value="Q5509169">Fungal Meningitis</option>
            <option value="Q18928476">Fusariosis</option>
            <option value="Q7476596">Genital Herpes</option>
            <option value="Q326071">Giardiasis</option>
            <option value="Q327005">Glanders</option>
            <option value="Q2665559">Gnathomiasis</option>
            <option value="Q101896">Gonorrhea</option>
            <option value="Q1416773">Granuloma Inguinale</option>
            <option value="Q5596834">Granulomatous Amebic Encephalitis</option>
            <option value="Q17119372">Haemophilus Meningitis</option>
            <option value="Q3798547">Haverhill Fever</option>
            <option value="Q9002005">Hemorrhagic Fever With Renal Syndrome</option>
            <option value="Q6853">Hepatitis B</option>
            <option value="Q154869">Hepatitis C</option>
            <option value="Q326643">Hepatitis E</option>
            <option value="Q6473911">Herpes Simplex</option>
            <option value="Q1258984">Herpes Simplex Virus Keratitis</option>
            <option value="Q182155">Herpes Zoster</option>
            <option value="Q4137692">Heterophyiasis</option>
            <option value="Q627625">Histoplasmosis</option>
            <option value="Q12199">Hiv/Aids</option>
            <option value="Q18556697">Human Immunodeficiency Virus Infectious Disease</option>
            <option value="Q12656487">Hymenolepiasis</option>
            <option value="Q1641318">Hypodermyasis</option>
            <option value="Q28971">Impetigo</option>
            <option value="Q2450598">Infective Endocarditis</option>
            <option value="Q2840">Influenza</option>
            <option value="Q2970970">Intestinal Infectious Disease</option>
            <option value="Q18553329">Intestinal Schistosomiasis</option>
            <option value="Q738292">Japanese Encephalitis</option>
            <option value="Q725345">Kaposi'S Sarcoma</option>
            <option value="Q17651228">Kidney Infection</option>
            <option value="Q154882">Legionnaires' Disease</option>
            <option value="Q331283">Leishmaniasis</option>
            <option value="Q72000">Lemierre'S Syndrome</option>
            <option value="Q6527832">Lepromatous Leprosy</option>
            <option value="Q36956">Leprosy</option>
            <option value="Q155098">Leptospirosis</option>
            <option value="Q1343674">Lice Infestation</option>
            <option value="Q160653">Listeriosis</option>
            <option value="Q18554418">Louse-Borne Relapsing Fever</option>
            <option value="Q201989">Lyme Disease</option>
            <option value="Q12156">Malaria</option>
            <option value="Q4280605">Mansonelliasis</option>
            <option value="Q963944">Melioidosis</option>
            <option value="Q890785">Meningococcal Disease</option>
            <option value="Q11542703">Metagonimiasis</option>
            <option value="Q17583">Miliary Tuberculosis</option>
            <option value="Q659584">Molluscum Contagiosum</option>
            <option value="Q382370">Monkeypox</option>
            <option value="Q866602">Multidrug-Resistant Tuberculosis</option>
            <option value="Q6946984">Mycobacterium Avium-Intracellulare Infection</option>
            <option value="Q10591185">Mycoplasma Pneumonia</option>
            <option value="Q4118581">Necatoriasis</option>
            <option value="Q1856914">Nocardiosis</option>
            <option value="Q1137321">Onchocerciasis</option>
            <option value="Q18558194">Ophthalmia Neonatorum</option>
            <option value="Q1048084">Opisthorchiasis</option>
            <option value="Q2886899">Oral Candidiasis</option>
            <option value="Q164727">Ornithosis</option>
            <option value="Q938983">Osteomyelitis</option>
            <option value="Q680873">Otitis Externa</option>
            <option value="Q247096">Paracoccidioidomycosis</option>
            <option value="Q2528129">Paragonimiasis</option>
            <option value="Q578994">Parasitic Helminthiasis Infectious Disease</option>
            <option value="Q353172">Parasitic Protozoa Infectious Disease</option>
            <option value="Q705906">Paratyphoid Fever</option>
            <option value="Q558070">Pelvic Inflammatory Diseases</option>
            <option value="Q1483214">Pemphigus</option>
            <option value="Q223102">Peritonitis</option>
            <option value="Q18554607">Pharyngoconjunctival Fever</option>
            <option value="Q922029">Pinta Disease</option>
            <option value="Q1125160">Pityriasis Rosea</option>
            <option value="Q766856">Pityriasis Rubra Pilaris</option>
            <option value="Q926462">Pityriasis Versicolor</option>
            <option value="Q133780">Plague</option>
            <option value="Q17635591">Plasmablastic Lymphoma</option>
            <option value="Q18554672">Plasmodium Falciparum Malaria</option>
            <option value="Q18554412">Plasmodium Vivax Malaria</option>
            <option value="Q7205993">Pneumocystosis</option>
            <option value="Q12192">Pneumonia</option>
            <option value="Q922927">Primary Amebic Meningoencephalitis</option>
            <option value="Q704930">Progressive Multifocal Leukoencephalopathy</option>
            <option value="Q179945">Psoriasis</option>
            <option value="Q511097">Psoriatic Arthritis</option>
            <option value="Q13046587">Pulmonary Tuberculosis</option>
            <option value="Q506652">Pyelonephritis</option>
            <option value="Q164818">Q Fever</option>
            <option value="Q6587253">Queensland Tick Typhus</option>
            <option value="Q1327700">Reactive Arthritis</option>
            <option value="Q690032">Relapsing Fever Borreliosis</option>
            <option value="Q18554367">Respiratory Syncytial Virus Infectious Disease</option>
            <option value="Q753904">Rheumatic Fever</option>
            <option value="Q114085">Rhinitis</option>
            <option value="Q326638">Rift Valley Fever</option>
            <option value="Q744387">Rocky Mountain Spotted Fever</option>
            <option value="Q326648">Salmonellosis</option>
            <option value="Q167178">Scabies</option>
            <option value="Q180266">Scarlet Fever</option>
            <option value="Q4678337">Scrofula</option>
            <option value="Q1194496">Scrub Typhus</option>
            <option value="Q924421">Septic Arthritis</option>
            <option value="Q3100117">Septicemic Plague</option>
            <option value="Q327298">Shigellosis</option>
            <option value="Q7053975">Siberian Tick Typhus</option>
            <option value="Q12214">Smallpox</option>
            <option value="Q1807401">Sodoku</option>
            <option value="Q842169">Sparganosis</option>
            <option value="Q767327">Sporotrichosis</option>
            <option value="Q2360849">Strongyloidiasis</option>
            <option value="Q2271749">Subacute Bacterial Endocarditis</option>
            <option value="Q2475919">Subacute Sclerosing Panencephalitis</option>
            <option value="Q7630974">Subcorneal Pustular Dermatosis</option>
            <option value="Q36855">Swine Influenza</option>
            <option value="Q41083">Syphilis</option>
            <option value="Q18553214">Systemic Mycosis</option>
            <option value="Q5340515">Systemic Scleroderma</option>
            <option value="Q18558279">Tertiary Neurosyphilis</option>
            <option value="Q47790">Tetanus</option>
            <option value="Q326663">Tick-Borne Encephalitis</option>
            <option value="Q18554419">Tick-Borne Relapsing Fever</option>
            <option value="Q775927">Tinea Corporis</option>
            <option value="Q1243807">Tinea Cruris</option>
            <option value="Q5609817">Tinea Pedis</option>
            <option value="Q4459615">Toxascariasis</option>
            <option value="Q1128440">Toxic Shock Syndrome</option>
            <option value="Q1345113">Toxocariasis</option>
            <option value="Q154878">Toxoplasmosis</option>
            <option value="Q193216">Trachoma</option>
            <option value="Q393477">Trench Fever</option>
            <option value="Q495146">Trichinosis</option>
            <option value="Q745865">Trichomoniasis</option>
            <option value="Q2264130">Trichuriasis</option>
            <option value="Q2443552">Trypanosomiasis</option>
            <option value="Q12204">Tuberculosis</option>
            <option value="Q153861">Tularemia</option>
            <option value="Q83319">Typhoid Fever</option>
            <option value="Q1122485">Urethritis</option>
            <option value="Q221668">Urinary Tract Infection</option>
            <option value="Q2403156">Vasomotor Rhinitis</option>
            <option value="Q18558169">Venezuelan Equine Encephalitis</option>
            <option value="Q1928978">Viral Infectious Disease</option>
            <option value="Q2046113">Visceral Leishmaniasis</option>
            <option value="Q180152">Vitiligo</option>
            <option value="Q977090">Vulvovaginal Candidiasis</option>
            <option value="Q18553953">Western Equine Encephalitis</option>
            <option value="Q76973">Yaws</option>
        </select>
    </div>
    <div id="results">
        <svg id="chart"></svg>
    </div>
</body>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script type="module">

    import {ForceGraph} from "@d3/force-directed-graph"
    import * as d3 from "https://cdn.skypack.dev/d3@7";
    const div = d3.selectAll("div");

</script>
<script>
    function runQuery() {
        class SPARQLQueryDispatcher {
            constructor(endpoint) {
                this.endpoint = endpoint;
            }

            query(sparqlQuery) {
                const fullUrl = this.endpoint + '?query=' + encodeURIComponent(sparqlQuery);
                const headers = {'Accept': 'application/sparql-results+json'};

                return fetch(fullUrl, {headers}).then(body => body.json());
            }
        }

        //get the input in disease 1 TODO add click trigger
        var d1 = document.getElementById("ddDisease1");
        var disease1 = d1.value;
        var d2 = document.getElementById("ddDisease2")
        var disease2 = d2.value;

        console.log(disease1)
        console.log(disease2)

        const endpointUrl = 'https://query.wikidata.org/sparql';

        //SPARQL Query for disease 1
        const sparqlQuery1 = `SELECT DISTINCT ?drug ?drugLabel ?disease ?diseaseLabel
                                WHERE
                                {
                                    wd:${disease1} wdt:P2176 ?drug.

                                    BIND(wd:${disease1} as ?disease)
                                  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
                                }`;

        //Dispatch query for disease 1
        const queryDispatcher1 = new SPARQLQueryDispatcher(endpointUrl);
        queryDispatcher1.query(sparqlQuery1).then(
            function (results1){
                //SPARQL Query for disease 2
                const sparqlQuery2 = `SELECT DISTINCT ?drug ?drugLabel ?disease ?diseaseLabel
                                    WHERE
                                    {
                                      wd:${disease2} wdt:P2176 ?drug.

                                      BIND(wd:${disease2} as ?disease)
                                      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
                                    }`;

                //Dispatch query for disease 2
                const queryDispatcher2 = new SPARQLQueryDispatcher(endpointUrl);
                queryDispatcher2.query(sparqlQuery2).then(
                    function (results2){
                        //Find union of both
                        const sparqlQuery3 = `SELECT DISTINCT ?drug ?drugLabel ?disease ?diseaseLabel
                                        WHERE
                                        {
                                            wd:${disease1} wdt:P2176 ?drug.
                                            ?drug wdt:P2175 wd:${disease2}
                                          SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
                                        }`;
                        const queryDispatcher3 = new SPARQLQueryDispatcher(endpointUrl);
                        queryDispatcher3.query(sparqlQuery3).then(
                            function (results3){
                                var networkData = {}
                                networkData["nodes"] = [];
                                networkData["links"] = [];
                                var drugSet = new Set();
                                var disease1Node = {"id":results1.results.bindings[0].diseaseLabel.value, "group":1}
                                var disease2Node = {"id":results2.results.bindings[0].diseaseLabel.value, "group":1}
                                networkData["nodes"].push(disease1Node,disease2Node)

                                for(var i =0; i < results1.results.bindings.length;i++){
                                    if(!drugSet.has(results1.results.bindings[i].drugLabel.value)){
                                        var drugNode = {"id":results1.results.bindings[i].drugLabel.value, "group":3}
                                        networkData["nodes"].push(drugNode)
                                        drugSet.add(results1.results.bindings[i].drugLabel.value)
                                    }

                                    var diseasedrugLink = {"source":results1.results.bindings[0].diseaseLabel.value,
                                        "target":results1.results.bindings[i].drugLabel.value, "value":1 }
                                    networkData["links"].push(diseasedrugLink)
                                }

                                for(var j =0; j < results2.results.bindings.length;j++){
                                    if(!drugSet.has(results2.results.bindings[j].drugLabel.value)) {
                                        var drug2Node = {"id": results2.results.bindings[j].drugLabel.value, "group": 4}
                                        networkData["nodes"].push(drug2Node)
                                        drugSet.add(results2.results.bindings[j].drugLabel.value)
                                    }else{
                                        for(var k =0; k < networkData["nodes"].length; k++){
                                            if(networkData["nodes"][k].id == results2.results.bindings[j].drugLabel.value){
                                                networkData["nodes"][k].group = 5;
                                            }
                                        }
                                    }

                                    var disease2drugLink = {"source":results2.results.bindings[0].diseaseLabel.value,
                                        "target":results2.results.bindings[j].drugLabel.value, "value":1 }
                                    networkData["links"].push(disease2drugLink)
                                }


                                const chart = ForceGraph(networkData, {
                                    nodeId: d => d.id,
                                    nodeGroup: d => d.group,
                                    nodeTitle: d => `${d.id}\n${d.group}`,
                                    linkStrokeWidth: l => Math.sqrt(l.value),
                                    width: 600,
                                    height: 600,
                                    //invalidation // a promise to stop the simulation when the cell is re-run
                                });

                                const div = document.getElementById('chart');
                                div.remove();
                                var elemDiv = document.createElement('div');
                                elemDiv.id = "chart"
                                document.body.appendChild(elemDiv);
                                elemDiv.appendChild(chart);

                            })
                    })

            })



    }



    function getAll(){

        class SPARQLQueryDispatcher {
            constructor(endpoint) {
                this.endpoint = endpoint;
            }

            query(sparqlQuery) {
                const fullUrl = this.endpoint + '?query=' + encodeURIComponent(sparqlQuery);
                const headers = {'Accept': 'application/sparql-results+json'};

                return fetch(fullUrl, {headers}).then(body => body.json());
            }
        }

        const endpointUrl = 'https://query.wikidata.org/sparql';

        //SPARQL Query for disease 1
        const sparqlQuery4 = `SELECT DISTINCT ?item ?itemLabel ?rgb ?link
                                WHERE
                                {
                                  VALUES ?toggle { true false }
                                  ?disease wdt:P699 ?doid;
                                           wdt:P279+ wd:Q18123741;
                                           wdt:P2176 ?drug.
                                  ?drug rdfs:label ?drugLabel.
                                    FILTER(LANG(?drugLabel) = "en").
                                  ?disease rdfs:label ?diseaseLabel.
                                    FILTER(LANG(?diseaseLabel) = "en").
                                  BIND(IF(?toggle,?disease,?drug) AS ?item).
                                  BIND(IF(?toggle,?diseaseLabel,?drugLabel) AS ?itemLabel).
                                  BIND(IF(?toggle,"FFA500","7FFF00") AS ?rgb).
                                  BIND(IF(?toggle,"",?disease) AS ?link).
                                }`;

        //Dispatch query for all
        const queryDispatcher4 = new SPARQLQueryDispatcher(endpointUrl);
        queryDispatcher4.query(sparqlQuery4).then(console.log);



    }




    // Copyright 2021 Observable, Inc.
    // Released under the ISC license.
    // https://observablehq.com/@d3/force-directed-graph
    function ForceGraph({
                            nodes, // an iterable of node objects (typically [{id}, …])
                            links // an iterable of link objects (typically [{source, target}, …])
                        }, {
                            nodeId = d => d.id, // given d in nodes, returns a unique identifier (string)
                            nodeGroup, // given d in nodes, returns an (ordinal) value for color
                            nodeGroups, // an array of ordinal values representing the node groups
                            nodeTitle, // given d in nodes, a title string
                            nodeFill = "currentColor", // node stroke fill (if not using a group color encoding)
                            nodeStroke = "#fff", // node stroke color
                            nodeStrokeWidth = 1.5, // node stroke width, in pixels
                            nodeStrokeOpacity = 1, // node stroke opacity
                            nodeRadius = 5, // node radius, in pixels
                            nodeStrength,
                            linkSource = ({source}) => source, // given d in links, returns a node identifier string
                            linkTarget = ({target}) => target, // given d in links, returns a node identifier string
                            linkStroke = "#999", // link stroke color
                            linkStrokeOpacity = 0.6, // link stroke opacity
                            linkStrokeWidth = 1.5, // given d in links, returns a stroke width in pixels
                            linkStrokeLinecap = "round", // link stroke linecap
                            linkStrength,
                            colors = d3.schemeTableau10, // an array of color strings, for the node groups
                            width = 640, // outer width, in pixels
                            height = 400, // outer height, in pixels
                            invalidation // when this promise resolves, stop the simulation
                        } = {}) {
        // Compute values.
        const N = d3.map(nodes, nodeId).map(intern);
        const LS = d3.map(links, linkSource).map(intern);
        const LT = d3.map(links, linkTarget).map(intern);
        if (nodeTitle === undefined) nodeTitle = (_, i) => N[i];
        const T = nodeTitle == null ? null : d3.map(nodes, nodeTitle);
        const G = nodeGroup == null ? null : d3.map(nodes, nodeGroup).map(intern);
        const W = typeof linkStrokeWidth !== "function" ? null : d3.map(links, linkStrokeWidth);
        const L = typeof linkStroke !== "function" ? null : d3.map(links, linkStroke);

        // Replace the input nodes and links with mutable objects for the simulation.
        nodes = d3.map(nodes, (_, i) => ({id: N[i]}));
        links = d3.map(links, (_, i) => ({source: LS[i], target: LT[i]}));

        // Compute default domains.
        if (G && nodeGroups === undefined) nodeGroups = d3.sort(G);

        // Construct the scales.
        const color = nodeGroup == null ? null : d3.scaleOrdinal(nodeGroups, colors);

        // Construct the forces.
        const forceNode = d3.forceManyBody();
        const forceLink = d3.forceLink(links).id(({index: i}) => N[i]);
        if (nodeStrength !== undefined) forceNode.strength(nodeStrength);
        if (linkStrength !== undefined) forceLink.strength(linkStrength);

        const simulation = d3.forceSimulation(nodes)
            .force("link", forceLink)
            .force("charge", forceNode)
            .force("center",  d3.forceCenter())
            .on("tick", ticked);

        const svg = d3.create("svg")
            .attr("width", width)
            .attr("height", height)
            .attr("viewBox", [-width / 2, -height / 2, width, height])
            .attr("style", "max-width: 100%; height: auto; height: intrinsic;");

        const link = svg.append("g")
            .attr("stroke", typeof linkStroke !== "function" ? linkStroke : null)
            .attr("stroke-opacity", linkStrokeOpacity)
            .attr("stroke-width", typeof linkStrokeWidth !== "function" ? linkStrokeWidth : null)
            .attr("stroke-linecap", linkStrokeLinecap)
            .selectAll("line")
            .data(links)
            .join("line");

        const node = svg.append("g")
            .attr("fill", nodeFill)
            .attr("stroke", nodeStroke)
            .attr("stroke-opacity", nodeStrokeOpacity)
            .attr("stroke-width", nodeStrokeWidth)
            .selectAll("circle")
            .data(nodes)
            .join("circle")
            .attr("r", nodeRadius)
            .call(drag(simulation));

        if (W) link.attr("stroke-width", ({index: i}) => W[i]);
        if (L) link.attr("stroke", ({index: i}) => L[i]);
        if (G) node.attr("fill", ({index: i}) => color(G[i]));
        if (T) node.append("title").text(({index: i}) => T[i]);
        if (invalidation != null) invalidation.then(() => simulation.stop());

        function intern(value) {
            return value !== null && typeof value === "object" ? value.valueOf() : value;
        }

        function ticked() {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);
        }

        function drag(simulation) {
            function dragstarted(event) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                event.subject.fx = event.subject.x;
                event.subject.fy = event.subject.y;
            }

            function dragged(event) {
                event.subject.fx = event.x;
                event.subject.fy = event.y;
            }

            function dragended(event) {
                if (!event.active) simulation.alphaTarget(0);
                event.subject.fx = null;
                event.subject.fy = null;
            }

            return d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);
        }
        return Object.assign(svg.node(), {scales: {color}});
    }
</script>

</html>